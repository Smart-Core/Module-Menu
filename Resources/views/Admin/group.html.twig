{% extends app.request.xmlHttpRequest ? '@SmartCoreEngine/ajax.html.twig' : 'MenuModule:Admin:index.html.twig' %}

{% block html_head_title %}Группа / {{ parent() }}{% endblock html_head_title %}

{% block content %}

{#<ul class="nav nav-tabs" id="myTab">#}
<ul class="nav nav-pills" id="myTab">
    <li><a href="{{ path('cmf_admin_module_manage', {'module': 'Menu'}) }}">Список всех групп меню</a></li>
    <li class="active"><a href="{{ path('cmf_admin_module_manage', {'module': 'Menu', 'slug': group.id}) }}">Редактирование группы меню</a></li>
</ul>

<h4>Пункты меню</h4>

{% set menu = knp_menu_get('MenuModule:MenuBuilder:full', [], {
    'group': group,
    'is_admin': true,
}) %}
{#{{ knp_menu_render(menu, {'currentAsLink': true, 'currentClass': 'active', 'compressed': true}) }}#}
{{ knp_menu_render(menu, {'currentAsLink': true, 'currentClass': 'active', 'compressed': true}) }}

{#{{ knp_menu_render('MenuModule:MenuBuilder:full', {'currentClass': 'active'}) }}#}

<div class="well well-small">
    <h4>Добавить пункт</h4>
    {% form_theme form_item_create 'MopaBootstrapBundle:Form:fields.html.twig' %}
    <form action="{{ path('cmf_admin_module_manage', {'module': 'Menu', 'slug': group.id}) }}" {{ form_enctype(form_item_create) }} method="post" class="form-horizontal">
        {{ form_widget(form_item_create) }}
        <div class="control-group">
            <div class="controls">
                <button type="submit" name="create_item" class="btn btn-primary"><i class="icon-plus icon-white"></i> {{ 'Add'|trans }}</button>
                {#<button type="submit" name="update" class="btn btn-primary"><i class="icon-ok icon-white"></i> {{ 'Save'|trans }}</button>#}
                {#<button type="submit" name="delete" class="btn btn-danger" onclick="return confirm('Вы уверены, что хотите удалить группу меню?')"><i class="icon-trash icon-white"></i> {{ 'Delete'|trans }}</button>#}
                {#<a class="btn" href="{{ path('cmf_admin_module_manage', {'module': 'Menu'}) }}"> {{ 'Cancel'|trans }}</a>#}
            </div>
        </div>
    </form>
</div>

<div class="well well-small">
    <h4>Свойства группы</h4>
    {% form_theme form_edit 'MopaBootstrapBundle:Form:fields.html.twig' %}
    <form action="{{ path('cmf_admin_module_manage', {'module': 'Menu', 'slug': group.id}) }}" {{ form_enctype(form_edit) }} method="post" class="form-horizontal">
        {{ form_widget(form_edit) }}
        <div class="control-group">
            <div class="controls">
                <button type="submit" name="update" class="btn btn-primary"><i class="icon-ok icon-white"></i> {{ 'Save'|trans }}</button>
                {#<button type="submit" name="delete" class="btn btn-danger" onclick="return confirm('Вы уверены, что хотите удалить группу меню?')"><i class="icon-trash icon-white"></i> {{ 'Delete'|trans }}</button>#}
                <a class="btn" href="{{ path('cmf_admin_module_manage', {'module': 'Menu'}) }}"> {{ 'Cancel'|trans }}</a>
            </div>
        </div>
    </form>
</div>
{% endblock content %}
